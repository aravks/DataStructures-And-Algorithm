function nKnight(matrix, row = 0, col = 0, knights = 0) {
    // display(matrix)
    if(knights === 0) {
        display(matrix)
        return 1
    }

    let count = 0
    
    if(col === matrix[row].length) {
        if(row === matrix.length - 1) {
            return 0
        }
        count += nKnight(matrix, row + 1, 0, knights)
        return count
    }
    // console.log(checkKnightValid(matrix, row, col))
    
    if(checkKnightValid(matrix, row, col)) {
        matrix[row][col] = 'K'
        count += nKnight(matrix, row, col + 1, knights - 1)
        matrix[row][col] = ' '
    }
    
    count += nKnight(matrix, row, col + 1, knights)

    return count
}

function checkKnightValid(matrix, row, col) {
    if(checkInsideBoard(matrix, row - 2, col - 1)) {
        if(matrix[row - 2][col - 1] === 'K') return false
    }
    if(checkInsideBoard(matrix, row - 2, col + 1)) {
        if(matrix[row - 2][col + 1] === 'K') return false
    }
    if(checkInsideBoard(matrix, row - 1, col + 2)) {
        if(matrix[row - 1][col + 2] === 'K') return false
    }
    if(checkInsideBoard(matrix, row - 1, col - 2)) {
        if(matrix[row - 1][col - 2] === 'K') return false
    }
    return true
}

function checkInsideBoard(matrix, row, col) {
    if(row >= 0 && row < matrix.length && col >= 0 && col < matrix[row].length) {
        return true
    }
    return false
}

function display(result) {
    console.log("==================================")
    for(let i = 0; i < result.length; i++) {
        let str = ""
        for(let j = 0; j < result[i].length; j++) {
            str = str + ' ' + (result[i][j] === 'K' ? 'K' : '-')
        }
        console.log(str)
    }
    console.log("==================================")
}

let board = Array.from(Array(3) , row => Array(3).fill(' '))
// console.log(board)
console.log("Possible ways: " + nKnight(board, 0, 0, 3))




// OUTPUT:
// ==================================
//  K K K
//  - - -
//  - - -
// ==================================
// ==================================
//  K K -
//  K - -
//  - - -
// ==================================
// ==================================
//  K K -
//  - K -
//  - - -
// ==================================
// ==================================
//  K - K
//  - K -
//  - - -
// ==================================
// ==================================
//  K - K
//  - - -
//  K - -
// ==================================
// ==================================
//  K - K
//  - - -
//  - - K
// ==================================
// ==================================
//  K - -
//  K K -
//  - - -
// ==================================
// ==================================
//  K - -
//  K - -
//  K - -
// ==================================
// ==================================
//  K - -
//  - K -
//  K - -
// ==================================
// ==================================
//  K - -
//  - K -
//  - - K
// ==================================
// ==================================
//  K - -
//  - - -
//  K - K
// ==================================
// ==================================
//  - K K
//  - K -
//  - - -
// ==================================
// ==================================
//  - K K
//  - - K
//  - - -
// ==================================
// ==================================
//  - K -
//  K K -
//  - - -
// ==================================
// ==================================
//  - K -
//  K - K
//  - - -
// ==================================
// ==================================
//  - K -
//  K - -
//  - K -
// ==================================
// ==================================
//  - K -
//  - K K
//  - - -
// ==================================
// ==================================
//  - K -
//  - K -
//  - K -
// ==================================
// ==================================
//  - K -
//  - - K
//  - K -
// ==================================
// ==================================
//  - - K
//  - K K
//  - - -
// ==================================
// ==================================
//  - - K
//  - K -
//  K - -
// ==================================
// ==================================
//  - - K
//  - K -
//  - - K
// ==================================
// ==================================
//  - - K
//  - - K
//  - - K
// ==================================
// ==================================
//  - - K
//  - - -
//  K - K
// ==================================
// ==================================
//  - - -
//  K K K
//  - - -
// ==================================
// ==================================
//  - - -
//  K K -
//  K - -
// ==================================
// ==================================
//  - - -
//  K K -
//  - K -
// ==================================
// ==================================
//  - - -
//  K - K
//  - K -
// ==================================
// ==================================
//  - - -
//  K - -
//  K K -
// ==================================
// ==================================
//  - - -
//  - K K
//  - K -
// ==================================
// ==================================
//  - - -
//  - K K
//  - - K
// ==================================
// ==================================
//  - - -
//  - K -
//  K K -
// ==================================
// ==================================
//  - - -
//  - K -
//  K - K
// ==================================
// ==================================
//  - - -
//  - K -
//  - K K
// ==================================
// ==================================
//  - - -
//  - - K
//  - K K
// ==================================
// ==================================
//  - - -
//  - - -
//  K K K
// ==================================
// Possible ways: 36
